<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>داشبورد</title>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <aside id="sidebar" aria-label="پنل کاربری">
      <img class="profile-pic" src="/images/Ellipse 1.svg" aria-hidden="true" />
      <div class="username">جمال الهامی نیا</div>
      <div class="role">معلم</div>
      <nav>
        <a href="../profile/index.html" tabindex="0" aria-label="پروفایل">
          <iconify-icon icon="solar:user-circle-broken"></iconify-icon>
          پروفایل
        </a>
        <a href="../status/index.html" class="link-primary" tabindex="0">
          <iconify-icon icon="solar:chart-broken"></iconify-icon>
          نمودار تحصیلی
        </a>
        <a href="../teacherContact/index.html" tabindex="0">
          <iconify-icon icon="solar:add-circle-broken"></iconify-icon>
          ارتباط با معلم.
        </a>
      </nav>
      <a
        href="./index.html"
        class="logout"
        style="text-decoration: none"
        tabindex="0"
        aria-label="خروج از حساب"
      >
        <iconify-icon icon="solar:logout-3-broken"></iconify-icon>
        خروج از حساب
      </a>
    </aside>
    <iconify-icon
      id="hamburgerBtn"
      class="hamburger"
      icon="solar:hamburger-menu-broken"
    ></iconify-icon>
    <main role="main" tabindex="0">
      <div class="container">
        <h2>وضعیت تحصیلی فرزند من</h2>

        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>درس</th>
                <th>نمره اول</th>
                <th>نمره دوم</th>
                <th>نمره سوم</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ریاضی</td>
                <td>20</td>
                <td>20</td>
                <td>19</td>
              </tr>
              <tr>
                <td>الزامات</td>
                <td>20</td>
                <td>20</td>
                <td>19</td>
              </tr>
              <tr>
                <td>دانش فنی</td>
                <td>20</td>
                <td>20</td>
                <td>19</td>
              </tr>
              <tr>
                <td>فارسی</td>
                <td>20</td>
                <td>20</td>
                <td>19</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="chart-container">
          <canvas id="myChart"></canvas>
        </div>

        <!-- دکمه تغییر -->
        <div class="toggle-btn" onclick="toggleView()">نمایش به صورت جدول</div>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const hamburgerBtn = document.getElementById("hamburgerBtn");
      const sidebar = document.getElementById("sidebar");

      hamburgerBtn.addEventListener("click", () => {
        sidebar.classList.toggle("open");
      });

      // Optional: close sidebar when clicking outside (on mobile)
      document.addEventListener("click", (e) => {
        if (
          !sidebar.contains(e.target) &&
          !hamburgerBtn.contains(e.target) &&
          sidebar.classList.contains("open")
        ) {
          sidebar.classList.remove("open");
        }
      });
      // تنظیم نمودار
      const ctx = document.getElementById("myChart").getContext("2d");
      const myChart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: [
            "Figma",
            "Sketch",
            "XD",
            "Photoshop",
            "Illustrator",
            "AfterEffect",
            "InDesign",
            "Maya",
            "Premiere",
            "Final Cut",
          ],
          datasets: [
            {
              label: "کیارش حسن زاده",
              data: [20, 30, 50, 40, 60, 80, 70, 90, 100, 60],
              backgroundColor: "#AD46FF",
            },
          ],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
            },
          },
        },
      });

      // جابجایی بین جدول و نمودار
      function toggleView() {
        const tableContainer = document.querySelector(".table-container");
        const chartContainer = document.querySelector(".chart-container");
        const toggleBtn = document.querySelector(".toggle-btn");

        if (tableContainer.style.display === "none") {
          tableContainer.style.display = "block";
          chartContainer.style.display = "none";
          toggleBtn.textContent = "نمایش به صورت نمودار";
        } else {
          tableContainer.style.display = "none";
          chartContainer.style.display = "block";
          toggleBtn.textContent = "نمایش به صورت جدول";
        }
      }
    </script>
  </body>
</html>
